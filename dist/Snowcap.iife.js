var Snowcap=function(l){"use strict";const p=t=>{const e=t.getAttribute("s-data");return new Function("root",`with (root) { return (${e}) }`)(t)};function u(t,e){for(e(t),t=t.firstElementChild;t;)u(t,e),t=t.nextElementSibling}function m(t,e){return[{match:n=>n.startsWith("@"),handle:(n,s,o)=>{const a=s.slice(1),r=new Function("event","data",`with (data) { ${o} }`);n.addEventListener(a,c=>r(c,t))}},{match:n=>n.startsWith("s-on:"),handle:(n,s,o)=>{e["s-on"](n,o,t,s)}},{match:n=>n.startsWith("s-bind:"),handle:(n,s,o)=>{e["s-bind"](n,o,s,t)}},{match:n=>n.startsWith("s-clipboard."),handle:(n,s,o)=>{const a=s.split(".")[1]||"click";e["s-clipboard"](n,a,o,t)}},{match:n=>n==="s-cloak",handle:n=>{n.removeAttribute("s-cloak")}},{match:n=>n==="s-for",handle:(n,s,o)=>{e["s-for"](n,o,t)}},{match:n=>n==="s-model",handle:(n,s,o)=>{e["s-model"](n,o,t)}},{match:n=>e[n],handle:(n,s,o)=>{const a=new Function("data",`with (data) { return (${o}) }`);l.effect(()=>e[s](n,a(t)))}}]}function f(t,e,n){const s=m(e,n);u(t,o=>{Array.from(o.attributes).forEach(r=>{const{name:c,value:h}=r;for(const{match:i,handle:d}of s)if(i(c)){d(o,c,h);break}})})}const w={"s-text":(t,e)=>t.textContent=e,"s-show":(t,e)=>t.style.display=e?"block":"none","s-model":(t,e,n)=>{t.value=n[e],t.addEventListener("input",o=>n[e]=o.target.value);const s=()=>t.value=n[e];l.effect(s)},"s-bind":(t,e,n,s)=>{const[o,a]=n.split(":");if(a==="style"){t.setAttribute(a,e);return}const c=new Function("data",`with (data) { return (${e}) }`)(s);t.setAttribute(a,c)},"s-on":(t,e,n,s)=>{const[,o]=s.split(":"),a=new Function("event","data",`with (data) { ${e} }`);t.addEventListener(o,r=>a(r,n))},"s-html":(t,e)=>t.innerHTML=e,"s-if":(t,e)=>{e||t.remove()},"s-for":(t,e,n)=>{let[s,o]=e.replaceAll(" ","").split("in");const r=new Function("data",`with (data) { return ${o} }`)(n),c=t.firstElementChild;c&&(t.innerHTML="",r.forEach(h=>{const i=c.cloneNode(!0),d={...n,[s]:h};if(i.hasAttribute("s-text")){const b=i.getAttribute("s-text"),v=new Function("scope",`with (scope) { return ${b} }`);i.textContent=v(d),i.removeAttribute("s-text")}t.appendChild(i)}))},"s-clipboard":(t,e,n,s)=>{const o=new Function("data",`with (data) { return (${n}) }`);t.addEventListener(e,()=>{const a=o(s);navigator.clipboard.writeText(a).then(()=>console.log("Text Copied:",a)).catch(r=>console.error("Clipboard write error:",r))})},"s-collapse":(t,e)=>{t.style.overflow="hidden",t.style.transition="height 300ms ease-in-out",requestAnimationFrame(()=>{t.style.height=e?t.scrollHeight+"px":"0px"})}};return{_components:[],start(){document.querySelectorAll("[s-data]").forEach(e=>{const n=p(e),s=l.reactive(n);this._components.push({root:e,data:s}),f(e,s,w)})},getComponents(){return this._components.map(t=>t.data)}}}(VueReactivity);
