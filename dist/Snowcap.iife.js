var Snowcap=function(l){"use strict";const m=n=>{const e=n.getAttribute("s-data");return new Function("root",`with (root) { return (${e}) }`)(n)};function h(n,e){for(e(n),n=n.firstElementChild;n;)h(n,e),n=n.nextElementSibling}function p(n,e){return[{match:t=>t.startsWith("@"),handle:(t,s,o)=>{const a=s.slice(1),r=new Function("event","data",`with (data) { ${o} }`);t.addEventListener(a,c=>r(c,n))}},{match:t=>t.startsWith("s-on:"),handle:(t,s,o)=>{e["s-on"](t,o,n,s)}},{match:t=>t.startsWith("s-bind:"),handle:(t,s,o)=>{e["s-bind"](t,o,s,n)}},{match:t=>t.startsWith("s-clipboard."),handle:(t,s,o)=>{const a=s.split(".")[1]||"click";e["s-clipboard"](t,a,o,n)}},{match:t=>t==="s-cloak",handle:t=>{t.removeAttribute("s-cloak")}},{match:t=>t==="s-for",handle:(t,s,o)=>{e["s-for"](t,o,n)}},{match:t=>t==="s-model",handle:(t,s,o)=>{e["s-model"](t,o,n)}},{match:t=>e[t],handle:(t,s,o)=>{const a=new Function("data",`with (data) { return (${o}) }`);l.effect(()=>e[s](t,a(n)))}}]}function f(n,e,t){const s=p(e,t);h(n,o=>{Array.from(o.attributes).forEach(r=>{const{name:c,value:d}=r;for(const{match:i,handle:u}of s)if(i(c)){u(o,c,d);break}})})}const w={"s-text":(n,e)=>n.textContent=e,"s-show":(n,e)=>n.style.display=e?"block":"none","s-model":(n,e,t)=>{n.value=t[e],n.addEventListener("input",o=>t[e]=o.target.value);const s=()=>n.value=t[e];l.effect(s)},"s-bind":(n,e,t,s)=>{const[o,a]=t.split(":");if(a==="style"){n.setAttribute(a,e);return}const c=new Function("data",`with (data) { return (${e}) }`)(s);n.setAttribute(a,c)},"s-on":(n,e,t,s)=>{const[,o]=s.split(":"),a=new Function("event","data",`with (data) { ${e} }`);n.addEventListener(o,r=>a(r,t))},"s-html":(n,e)=>n.innerHTML=e,"s-if":(n,e)=>{e||n.remove()},"s-for":(n,e,t)=>{let[s,o]=e.replaceAll(" ","").split("in");const r=new Function("data",`with (data) { return ${o} }`)(t),c=n.firstElementChild;c&&(n.innerHTML="",r.forEach(d=>{const i=c.cloneNode(!0),u={...t,[s]:d};if(i.hasAttribute("s-text")){const b=i.getAttribute("s-text"),v=new Function("scope",`with (scope) { return ${b} }`);i.textContent=v(u),i.removeAttribute("s-text")}n.appendChild(i)}))},"s-clipboard":(n,e,t,s)=>{const o=new Function("data",`with (data) { return (${t}) }`);n.addEventListener(e,()=>{const a=o(s);navigator.clipboard.writeText(a).then(()=>console.log("Text Copied:",a)).catch(r=>console.error("Clipboard write error:",r))})}};return{_components:[],start(){document.querySelectorAll("[s-data]").forEach(e=>{const t=m(e),s=l.reactive(t);this._components.push({root:e,data:s}),f(e,s,w)})},getComponents(){return this._components.map(n=>n.data)}}}(VueReactivity);
