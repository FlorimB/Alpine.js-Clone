"use strict";const d=require("@vue/reactivity"),f=n=>{const e=n.getAttribute("s-data");return new Function("root",`with (root) { return (${e}) }`)(n)};function h(n,e){for(e(n),n=n.firstElementChild;n;)h(n,e),n=n.nextElementSibling}function w(n,e){return[{match:t=>t.startsWith("@"),handle:(t,s,o)=>{const r=s.slice(1),a=new Function("event","data",`with (data) { ${o} }`);t.addEventListener(r,c=>a(c,n))}},{match:t=>t.startsWith("s-on:"),handle:(t,s,o)=>{e["s-on"](t,o,n,s)}},{match:t=>t.startsWith("s-bind:"),handle:(t,s,o)=>{e["s-bind"](t,o,s,n)}},{match:t=>t.startsWith("s-clipboard."),handle:(t,s,o)=>{const r=s.split(".")[1]||"click";e["s-clipboard"](t,r,o,n)}},{match:t=>t==="s-cloak",handle:t=>{t.removeAttribute("s-cloak")}},{match:t=>t==="s-for",handle:(t,s,o)=>{e["s-for"](t,o,n)}},{match:t=>t==="s-model",handle:(t,s,o)=>{e["s-model"](t,o,n)}},{match:t=>e[t],handle:(t,s,o)=>{const r=new Function("data",`with (data) { return (${o}) }`);d.effect(()=>e[s](t,r(n)))}}]}function b(n,e,t){const s=w(e,t);h(n,o=>{Array.from(o.attributes).forEach(a=>{const{name:c,value:l}=a;for(const{match:i,handle:u}of s)if(i(c)){u(o,c,l);break}})})}const v=(n,e)=>n.textContent=e,g=(n,e)=>n.style.display=e?"block":"none",x=(n,e,t)=>{n.value=t[e],n.addEventListener("input",o=>t[e]=o.target.value);const s=()=>n.value=t[e];d.effect(s)},A=(n,e,t,s)=>{const[o,r]=t.split(":");if(r==="style"){n.setAttribute(r,e);return}const c=new Function("data",`with (data) { return (${e}) }`)(s);n.setAttribute(r,c)},E=(n,e,t,s)=>{const[,o]=s.split(":"),r=new Function("event","data",`with (data) { ${e} }`);n.addEventListener(o,a=>r(a,t))},C=(n,e)=>n.innerHTML=e,F=(n,e)=>{e||n.remove()},$=(n,e,t)=>{let[s,o]=e.replaceAll(" ","").split("in");const a=new Function("data",`with (data) { return ${o} }`)(t),c=n.firstElementChild;c&&(n.innerHTML="",a.forEach(l=>{const i=c.cloneNode(!0),u={...t,[s]:l};if(i.hasAttribute("s-text")){const m=i.getAttribute("s-text"),p=new Function("scope",`with (scope) { return ${m} }`);i.textContent=p(u),i.removeAttribute("s-text")}n.appendChild(i)}))},y=(n,e,t,s)=>{const o=new Function("data",`with (data) { return (${t}) }`);n.addEventListener(e,()=>{const r=o(s);navigator.clipboard.writeText(r).then(()=>console.log("Text Copied:",r)).catch(a=>console.error("Clipboard write error:",a))})},L={"s-text":v,"s-show":g,"s-model":x,"s-bind":A,"s-on":E,"s-html":C,"s-if":F,"s-for":$,"s-clipboard":y},_={_components:[],start(){document.querySelectorAll("[s-data]").forEach(e=>{const t=f(e),s=d.reactive(t);this._components.push({root:e,data:s}),b(e,s,L)})},getComponents(){return this._components.map(n=>n.data)}};module.exports=_;
