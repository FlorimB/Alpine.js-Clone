import{effect as t,reactive as e}from"@vue/reactivity";let w=t=>{let e=t.getAttribute("s-data");return Function("root",`with (root) { return (${e}) }`)(t)};function u(t,e){for(e(t),t=t.firstElementChild;t;)u(t,e),t=t.nextElementSibling}function b(e,a){return[{match:t=>t.startsWith("@"),handle(t,a,r){let l=a.slice(1),s=Function("event","data",`with (data) { ${r} }`);t.addEventListener(l,t=>s(t,e))}},{match:t=>t.startsWith("s-on:"),handle(t,r,l){a["s-on"](t,l,e,r)}},{match:t=>t.startsWith("s-bind:"),handle(t,r,l){a["s-bind"](t,l,r,e)}},{match:t=>t.startsWith("s-clipboard."),handle(t,r,l){let s=r.split(".")[1]||"click";a["s-clipboard"](t,s,l,e)}},{match:t=>"s-cloak"===t,handle(t){t.removeAttribute("s-cloak")}},{match:t=>"s-for"===t,handle(t,r,l){a["s-for"](t,l,e)}},{match:t=>"s-model"===t,handle(t,r,l){a["s-model"](t,l,e)}},{match:t=>a[t],handle(r,l,s){let n=Function("data",`with (data) { return (${s}) }`);t(()=>a[l](r,n(e)))}}]}function v(t,e,a){let r=b(e,a);u(t,t=>{Array.from(t.attributes).forEach(e=>{let{name:a,value:l}=e;for(let{match:s,handle:n}of r)if(s(a)){n(t,a,l);break}})})}let g=(t,e)=>t.textContent=e,x=(t,e)=>t.style.display=e?"block":"none",A=(e,a,r)=>{e.value=r[a],e.addEventListener("input",t=>r[a]=t.target.value),t(()=>e.value=r[a])},E=(t,e,a,r)=>{let[l,s]=a.split(":");if("style"===s){t.setAttribute(s,e);return}let n=Function("data",`with (data) { return (${e}) }`)(r);t.setAttribute(s,n)},C=(t,e,a,r)=>{let[,l]=r.split(":"),s=Function("event","data",`with (data) { ${e} }`);t.addEventListener(l,t=>s(t,a))},F=(t,e)=>t.innerHTML=e,y=(t,e)=>{e||t.remove()},$=(t,e,a)=>{let[r,l]=e.replaceAll(" ","").split("in"),s=Function("data",`with (data) { return ${l} }`)(a),n=t.firstElementChild;n&&(t.innerHTML="",s.forEach(e=>{let l=n.cloneNode(!0),s={...a,[r]:e};if(l.hasAttribute("s-text")){let i=l.getAttribute("s-text"),o=Function("scope",`with (scope) { return ${i} }`);l.textContent=o(s),l.removeAttribute("s-text")}t.appendChild(l)}))},H=(t,e,a,r)=>{let l=Function("data",`with (data) { return (${a}) }`);t.addEventListener(e,()=>{let t=l(r);navigator.clipboard.writeText(t).then(()=>console.log("Text Copied:",t)).catch(t=>console.error("Clipboard write error:",t))})},L=(t,e)=>{t.style.overflow="hidden",t.style.transition="height 300ms ease-in-out",requestAnimationFrame(()=>{t.style.height=e?t.scrollHeight+"px":"0px"})},_={"s-text":g,"s-show":x,"s-model":A,"s-bind":E,"s-on":C,"s-html":F,"s-if":y,"s-for":$,"s-clipboard":H,"s-collapse":L},T={_components:[],start(){document.querySelectorAll("[s-data]").forEach(t=>{let a=w(t),r=e(a);this._components.push({root:t,data:r}),v(t,r,_)})},getComponents(){return this._components.map(t=>t.data)}};export{T as default};